# å›¾ç‰‡åŠŸèƒ½è¯´æ˜ (Image Feature Documentation)

## âš ï¸ é‡è¦æ›´æ–°

### å½“å‰åŠŸèƒ½ï¼šå›¾ç‰‡åˆ†æï¼ˆéç¼–è¾‘ï¼‰

ç”±äºæŠ€æœ¯é™åˆ¶ï¼Œå½“å‰ç³»ç»Ÿä½¿ç”¨çš„ **Gemini 3 Pro Vision** æ¨¡å‹ä»…æ”¯æŒ**å›¾ç‰‡åˆ†æ**ï¼Œä¸æ”¯æŒå›¾ç‰‡ç¼–è¾‘è¾“å‡ºã€‚

---

## ğŸ” å½“å‰æ”¯æŒçš„åŠŸèƒ½

### å›¾ç‰‡åˆ†æèƒ½åŠ›

Gemini 3 Pro Vision å¯ä»¥ï¼š

âœ… **å†…å®¹è¯†åˆ«**
- è¯†åˆ«å›¾ç‰‡ä¸­çš„ç‰©ä½“ã€äººç‰©ã€åœºæ™¯
- æè¿°å›¾ç‰‡çš„ä¸»è¦å…ƒç´ 
- åˆ†æå›¾ç‰‡çš„æ„å›¾å’Œå¸ƒå±€

âœ… **æ–‡å­—æå– (OCR)**
- æå–å›¾ç‰‡ä¸­çš„æ–‡å­—å†…å®¹
- è¯†åˆ«å¤šç§è¯­è¨€çš„æ–‡æœ¬
- å¤„ç†æ‰‹å†™æ–‡å­—ï¼ˆæœ‰é™ï¼‰

âœ… **é¢œè‰²åˆ†æ**
- åˆ†æå›¾ç‰‡çš„ä¸»è‰²è°ƒ
- è¯†åˆ«é…è‰²æ–¹æ¡ˆ
- è¯„ä¼°è‰²å½©å¯¹æ¯”åº¦

âœ… **äººç‰©è¯†åˆ«**
- è¯†åˆ«äººæ•°
- ä¼°è®¡å¹´é¾„ã€æ€§åˆ«ï¼ˆå¤§è‡´ï¼‰
- åˆ†æè¡¨æƒ…å’Œå§¿æ€

âœ… **åœºæ™¯ç†è§£**
- è¯†åˆ«æ‹æ‘„åœ°ç‚¹ç±»å‹
- åˆ¤æ–­æ—¶é—´ï¼ˆç™½å¤©/å¤œæ™šï¼‰
- åˆ†æå¤©æ°”çŠ¶å†µ

âœ… **æ™ºèƒ½é—®ç­”**
- å›ç­”å…³äºå›¾ç‰‡çš„ä»»ä½•é—®é¢˜
- æä¾›è¯¦ç»†çš„å›¾ç‰‡æè¿°
- æ¯”è¾ƒå¤šå¼ å›¾ç‰‡çš„å¼‚åŒ

---

## âŒ å½“å‰ä¸æ”¯æŒçš„åŠŸèƒ½

ä»¥ä¸‹åŠŸèƒ½éœ€è¦ä½¿ç”¨ä¸“é—¨çš„å›¾ç‰‡ç¼–è¾‘æ¨¡å‹ï¼š

âŒ **å›¾ç‰‡ç¼–è¾‘**
- ç§»é™¤èƒŒæ™¯ï¼ˆæŠ å›¾ï¼‰
- è°ƒæ•´äº®åº¦/å¯¹æ¯”åº¦
- æ·»åŠ æ»¤é•œæ•ˆæœ
- è£å‰ªå’Œæ—‹è½¬

âŒ **å›¾ç‰‡ç”Ÿæˆ**
- ç”Ÿæˆæ–°å›¾ç‰‡
- ä¿®å¤å›¾ç‰‡
- é£æ ¼è½¬æ¢

âŒ **å›¾ç‰‡å¢å¼º**
- è¶…åˆ†è¾¨ç‡
- å»å™ª
- è‰²å½©æ ¡æ­£

---

## ğŸš€ å¦‚ä½•ä½¿ç”¨å›¾ç‰‡åˆ†æåŠŸèƒ½

### 1. å‘é€å›¾ç‰‡åˆ° Gemini

1. åœ¨èŠå¤©æ¶ˆæ¯ä¸­æ‰¾åˆ°å›¾ç‰‡
2. å°†é¼ æ ‡æ‚¬åœåœ¨å›¾ç‰‡ä¸Š
3. ç‚¹å‡» **"åœ–ç‰‡åˆ†æ"** æŒ‰é’®ï¼ˆå³ä¸‹è§’ï¼‰
4. å›¾ç‰‡ä¼šå‘é€åˆ° Gemini ä¾§è¾¹æ 

### 2. ä½¿ç”¨å¿«æ·æŒ‰é’®

ç³»ç»Ÿæä¾› 5 ä¸ªå¸¸ç”¨åˆ†æå¿«æ·æŒ‰é’®ï¼š

| æŒ‰é’® | åŠŸèƒ½ | ç¤ºä¾‹å‘½ä»¤ |
|------|------|----------|
| ğŸ” åˆ†æåœ–ç‰‡ | å…¨é¢åˆ†æå›¾ç‰‡å†…å®¹ | "è«‹åˆ†æé€™å¼µåœ–ç‰‡çš„å…§å®¹" |
| ğŸ“ æè¿°å…§å®¹ | è¯¦ç»†æè¿°å›¾ç‰‡å…ƒç´  | "æè¿°é€™å¼µåœ–ç‰‡ä¸­çš„ä¸»è¦å…ƒç´ " |
| ğŸ¨ é¡è‰²åˆ†æ | åˆ†æé¢œè‰²ä¸»é¢˜ | "é€™å¼µåœ–ç‰‡çš„é¡è‰²ä¸»é¡Œæ˜¯ä»€éº¼ï¼Ÿ" |
| ğŸ‘¥ äººç‰©è­˜åˆ¥ | è¯†åˆ«äººç‰©ä¿¡æ¯ | "åœ–ç‰‡ä¸­æœ‰å¤šå°‘äººï¼Ÿä»–å€‘åœ¨åšä»€éº¼ï¼Ÿ" |
| ğŸ“„ æ–‡å­—æå– | æå–æ–‡å­—å†…å®¹ | "è«‹æå–åœ–ç‰‡ä¸­çš„æ–‡å­—" |

### 3. è‡ªå®šä¹‰åˆ†æå‘½ä»¤

æ‚¨ä¹Ÿå¯ä»¥è¾“å…¥è‡ªå®šä¹‰å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š

```
- "é€™æ˜¯ä»€éº¼æ¤ç‰©ï¼Ÿ"
- "åœ–ç‰‡ä¸­çš„å»ºç¯‰æ˜¯ä»€éº¼é¢¨æ ¼ï¼Ÿ"
- "é€™å¼µæµ·å ±çš„è¨­è¨ˆæœ‰ä»€éº¼å„ªé»ï¼Ÿ"
- "è«‹è©•åƒ¹é€™å¼µç…§ç‰‡çš„æ‹æ”æŠ€å·§"
- "åœ–ç‰‡ä¸­çš„æ–‡å­—ç¿»è­¯æˆè‹±æ–‡"
```

---

## ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯

### 1. å•†å“è¯†åˆ«
```
ç”¨æˆ·å‘é€äº§å“å›¾ç‰‡ â†’ è¯†åˆ«å“ç‰Œå’Œå‹å· â†’ æä¾›ä»·æ ¼ä¿¡æ¯
```

### 2. æ–‡æ¡£å¤„ç†
```
æ‹æ‘„çº¸è´¨æ–‡æ¡£ â†’ æå–æ–‡å­— â†’ æ•´ç†æˆæ–‡æœ¬ â†’ å‘é€åˆ°å…¶ä»–åº”ç”¨
```

### 3. èœå•ç¿»è¯‘
```
é¤å…èœå•ç…§ç‰‡ â†’ è¯†åˆ«èœå â†’ ç¿»è¯‘å¹¶è§£é‡Š â†’ å¸®åŠ©ç‚¹é¤
```

### 4. ç…§ç‰‡åˆ†ç±»
```
å¤§é‡ç…§ç‰‡ â†’ è‡ªåŠ¨è¯†åˆ«å†…å®¹ â†’ åˆ†ç±»æ•´ç† â†’ ç”Ÿæˆç›¸å†Œ
```

### 5. å“è´¨æ£€æµ‹
```
äº§å“ç…§ç‰‡ â†’ è¯†åˆ«ç‘•ç–µ â†’ è¯„ä¼°è´¨é‡ â†’ ç”ŸæˆæŠ¥å‘Š
```

---

## ğŸ”§ å¦‚ä½•å®ç°çœŸæ­£çš„å›¾ç‰‡ç¼–è¾‘

å¦‚æœæ‚¨éœ€è¦å›¾ç‰‡ç¼–è¾‘åŠŸèƒ½ï¼Œå¯ä»¥é›†æˆä»¥ä¸‹æœåŠ¡ï¼š

### æ–¹æ¡ˆ 1ï¼šStability AI (Stable Diffusion)

**åŠŸèƒ½ï¼š** å›¾ç‰‡ç”Ÿæˆã€ç¼–è¾‘ã€å¢å¼º

**é›†æˆæ–¹å¼ï¼š**
```javascript
// API ç«¯ç‚¹
POST https://api.stability.ai/v1/generation/stable-diffusion-xl-1024-v1-0/image-to-image

// ç¤ºä¾‹ä»£ç 
const response = await fetch('https://api.stability.ai/v1/generation/...', {
    method: 'POST',
    headers: {
        'Authorization': `Bearer ${STABILITY_API_KEY}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        init_image: base64Image,
        text_prompts: [{ text: 'ç§»é™¤èƒŒæ™¯', weight: 1 }],
        cfg_scale: 7,
        steps: 30
    })
});
```

**è´¹ç”¨ï¼š** $10/æœˆèµ·

---

### æ–¹æ¡ˆ 2ï¼šReplicate (å¤šç§æ¨¡å‹)

**åŠŸèƒ½ï¼š** æ”¯æŒå¤šç§å¼€æºå›¾ç‰‡ç¼–è¾‘æ¨¡å‹

**æ”¯æŒçš„æ¨¡å‹ï¼š**
- RMBG-1.4 (èƒŒæ™¯ç§»é™¤)
- Real-ESRGAN (è¶…åˆ†è¾¨ç‡)
- ClipDrop (å›¾ç‰‡ç¼–è¾‘)

**é›†æˆæ–¹å¼ï¼š**
```javascript
const response = await fetch('https://api.replicate.com/v1/predictions', {
    method: 'POST',
    headers: {
        'Authorization': `Token ${REPLICATE_API_KEY}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        version: 'model_version_id',
        input: {
            image: imageUrl,
            prompt: 'ç§»é™¤èƒŒæ™¯'
        }
    })
});
```

**è´¹ç”¨ï¼š** æŒ‰ä½¿ç”¨é‡è®¡è´¹ï¼Œçº¦ $0.0001-0.01/æ¬¡

---

### æ–¹æ¡ˆ 3ï¼šRemove.bg API (ä¸“ä¸šæŠ å›¾)

**åŠŸèƒ½ï¼š** è‡ªåŠ¨ç§»é™¤å›¾ç‰‡èƒŒæ™¯

**é›†æˆæ–¹å¼ï¼š**
```javascript
const formData = new FormData();
formData.append('image_file', imageFile);
formData.append('size', 'auto');

const response = await fetch('https://api.remove.bg/v1.0/removebg', {
    method: 'POST',
    headers: {
        'X-Api-Key': REMOVEBG_API_KEY
    },
    body: formData
});
```

**è´¹ç”¨ï¼š** 
- å…è´¹ï¼š50 æ¬¡/æœˆ
- ä»˜è´¹ï¼š$9/æœˆèµ·ï¼ˆ500 æ¬¡ï¼‰

---

### æ–¹æ¡ˆ 4ï¼šCloudinary (å›¾ç‰‡å¤„ç†å¹³å°)

**åŠŸèƒ½ï¼š** è£å‰ªã€è°ƒæ•´å¤§å°ã€æ»¤é•œã€æ°´å°ç­‰

**é›†æˆæ–¹å¼ï¼š**
```javascript
// ä½¿ç”¨ URL å‚æ•°è¿›è¡Œå›¾ç‰‡è½¬æ¢
const editedUrl = cloudinary.url('sample.jpg', {
    transformation: [
        { width: 500, height: 500, crop: 'fill' },
        { effect: 'brightness:30' },
        { effect: 'contrast:20' }
    ]
});
```

**è´¹ç”¨ï¼š**
- å…è´¹ï¼š25 credits/æœˆ
- ä»˜è´¹ï¼š$99/æœˆèµ·

---

## ğŸ› ï¸ é›†æˆå›¾ç‰‡ç¼–è¾‘ API çš„æ­¥éª¤

### 1. é€‰æ‹©æœåŠ¡

æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„å›¾ç‰‡ç¼–è¾‘æœåŠ¡ï¼š
- **æŠ å›¾** â†’ Remove.bg
- **å…¨èƒ½ç¼–è¾‘** â†’ Stability AI
- **å¤šç§æ¨¡å‹** â†’ Replicate
- **ç®€å•è°ƒæ•´** â†’ Cloudinary

### 2. è·å– API Key

è®¿é—®æœåŠ¡å•†ç½‘ç«™æ³¨å†Œå¹¶è·å– API Keyï¼š
- [Stability AI](https://platform.stability.ai/)
- [Replicate](https://replicate.com/)
- [Remove.bg](https://www.remove.bg/api)
- [Cloudinary](https://cloudinary.com/)

### 3. ä¿®æ”¹åç«¯ä»£ç 

åœ¨ `server.js` ä¸­æ·»åŠ æ–°çš„ API ç«¯ç‚¹ï¼š

```javascript
app.post('/api/llm/edit-image-real', async (req, res) => {
    const { imagePath, instruction } = req.body;
    
    // è¯»å–å›¾ç‰‡
    const imageBuffer = fs.readFileSync(imagePath);
    const imageBase64 = imageBuffer.toString('base64');
    
    // è°ƒç”¨å›¾ç‰‡ç¼–è¾‘ APIï¼ˆä»¥ Remove.bg ä¸ºä¾‹ï¼‰
    const response = await fetch('https://api.remove.bg/v1.0/removebg', {
        method: 'POST',
        headers: {
            'X-Api-Key': process.env.REMOVEBG_API_KEY,
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            image_file_b64: imageBase64,
            size: 'auto'
        })
    });
    
    const editedImage = await response.buffer();
    
    // ä¿å­˜ç¼–è¾‘åçš„å›¾ç‰‡
    const editedPath = `edited_${Date.now()}.png`;
    fs.writeFileSync(path.join(MEDIA_DIR, editedPath), editedImage);
    
    res.json({
        success: true,
        processedImagePath: editedPath,
        processedImageUrl: `/media/${editedPath}`
    });
});
```

### 4. æ›´æ–°å‰ç«¯æŒ‰é’®

æ¢å¤åŸæ¥çš„ç¼–è¾‘æŒ‰é’®ï¼š

```javascript
<button onclick="quickEdit('ç§»é™¤èƒŒæ™¯')" class="...">ğŸ¨ æ‘³åœ–</button>
<button onclick="quickEdit('æé«˜äº®åº¦')" class="...">â˜€ï¸ æäº®</button>
```

### 5. æµ‹è¯•

1. ä¸Šä¼ æµ‹è¯•å›¾ç‰‡
2. ç‚¹å‡»ç¼–è¾‘æŒ‰é’®
3. éªŒè¯å¤„ç†ç»“æœ
4. æ£€æŸ¥è´¹ç”¨æ¶ˆè€—

---

## ğŸ“Š æœåŠ¡å¯¹æ¯”

| æœåŠ¡ | åŠŸèƒ½ | ä»·æ ¼ | é€Ÿåº¦ | è´¨é‡ | æ¨èåº¦ |
|------|------|------|------|------|--------|
| Gemini Vision | åˆ†æ | âœ… å…è´¹ | âš¡âš¡âš¡ | â­â­â­â­ | â­â­â­ (åˆ†æ) |
| Remove.bg | æŠ å›¾ | ğŸ’° $9/æœˆ | âš¡âš¡âš¡ | â­â­â­â­â­ | â­â­â­â­â­ (æŠ å›¾) |
| Stability AI | å…¨èƒ½ | ğŸ’° $10/æœˆ | âš¡âš¡ | â­â­â­â­ | â­â­â­â­ (ç”Ÿæˆ) |
| Replicate | å¤šæ · | ğŸ’° æŒ‰é‡ | âš¡âš¡ | â­â­â­â­ | â­â­â­â­ (çµæ´») |
| Cloudinary | ç®€å• | ğŸ’° $99/æœˆ | âš¡âš¡âš¡ | â­â­â­ | â­â­â­ (ç®€å•) |

---

## ğŸ¯ å»ºè®®æ–¹æ¡ˆ

### é˜¶æ®µ 1ï¼šå½“å‰ï¼ˆå›¾ç‰‡åˆ†æï¼‰

âœ… ä½¿ç”¨ Gemini 3 Vision è¿›è¡Œå›¾ç‰‡åˆ†æ
- é›¶æˆæœ¬
- åŠŸèƒ½å¼ºå¤§
- æ»¡è¶³ 80% çš„åˆ†æéœ€æ±‚

### é˜¶æ®µ 2ï¼šæ·»åŠ æŠ å›¾åŠŸèƒ½

ğŸ’¡ é›†æˆ Remove.bg API
- ä¸“ä¸šæŠ å›¾
- $9/æœˆï¼ˆ500 æ¬¡ï¼‰
- é›†æˆç®€å•

### é˜¶æ®µ 3ï¼šå…¨åŠŸèƒ½ç¼–è¾‘

ğŸš€ é›†æˆ Stability AI æˆ– Replicate
- æ”¯æŒå¤šç§ç¼–è¾‘ä»»åŠ¡
- æŒ‰éœ€ä»˜è´¹
- åŠŸèƒ½å…¨é¢

---

## ğŸ“ è”ç³»æ”¯æŒ

å¦‚éœ€å¸®åŠ©é›†æˆå›¾ç‰‡ç¼–è¾‘ APIï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚

**æ–‡æ¡£ç‰ˆæœ¬:** v1.0  
**æœ€åæ›´æ–°:** 2026-02-08
